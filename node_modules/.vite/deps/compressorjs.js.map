{
  "version": 3,
  "sources": ["../../compressorjs/dist/compressor.esm.js"],
  "sourcesContent": ["/*!\n * Compressor.js v1.2.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-02-28T14:09:41.732Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar canvasToBlob = {exports: {}};\n\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n(function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  (function (window) {\n\n    var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n    var hasBlobConstructor = window.Blob && function () {\n      try {\n        return Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    }();\n    var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    }();\n    var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n    var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n      var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern);\n      if (!matches) {\n        throw new Error('invalid data URI');\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        });\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType);\n    };\n    if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n      if (CanvasPrototype.mozGetAsFile) {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this;\n          setTimeout(function () {\n            if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            } else {\n              callback(self.mozGetAsFile('blob', type));\n            }\n          });\n        };\n      } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n        if (CanvasPrototype.msToBlob) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.msToBlob(type));\n              }\n            });\n          };\n        } else {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            });\n          };\n        }\n      }\n    }\n    if (module.exports) {\n      module.exports = dataURLtoBlob;\n    } else {\n      window.dataURLtoBlob = dataURLtoBlob;\n    }\n  })(window);\n})(canvasToBlob);\nvar toBlob = canvasToBlob.exports;\n\nvar isBlob = function isBlob(value) {\n  if (typeof Blob === 'undefined') {\n    return false;\n  }\n  return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if output the original image instead of the compressed one\n   * when the size of the compressed image is greater than the original one's\n   * @type {boolean}\n   */\n  strict: true,\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n  /**\n   * Indicates if retain the image's Exif information after compressed.\n   * @type {boolean}\n  */\n  retainExif: false,\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n  /**\n   * Sets how the size of the image should be resized to the container\n   * specified by the `width` and `height` options.\n   * @type {string}\n   */\n  resize: 'none',\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n  /**\n   * Files whose file type is included in this list,\n   * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n   * @type {stringï½œArray}\n   */\n  convertTypes: ['image/png'],\n  /**\n   * PNG files over this size (5 MB by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * @type {number}\n   */\n  convertSize: 5000000,\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.fillStyle = '#fff';\n   * }\n   */\n  beforeDraw: null,\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.filter = 'grayscale(100%)';\n   * }\n   */\n  drew: null,\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) {\n   *   console.log(file);\n   * }\n   */\n  success: null,\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) {\n   *   console.log(err.message);\n   * }\n   */\n  error: null\n};\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\nvar slice = Array.prototype.slice;\n\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @returns {boolean} Returns the image extension.\n */\nfunction imageTypeToExtension(value) {\n  var extension = isImageType(value) ? value.substr(6) : '';\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n  return \".\".concat(extension);\n}\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i;\n  length += start;\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n  return str;\n}\nvar btoa = WINDOW.btoa;\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation;\n\n  // Ignores range error when the image does not have correct Exif information\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n        offset += 1;\n      }\n    }\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n      var _offset;\n      var i;\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (e) {\n    orientation = 1;\n  }\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180Â°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90Â°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90Â°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90Â°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90Â°\n    case 8:\n      rotate = -90;\n      break;\n  }\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref) {\n  var aspectRatio = _ref.aspectRatio,\n    height = _ref.height,\n    width = _ref.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n    if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get Exif information from the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {Array} The read Exif information.\n */\nfunction getExif(arrayBuffer) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  var length = array.length;\n  var segments = [];\n  var start = 0;\n  while (start + 3 < length) {\n    var value = array[start];\n    var next = array[start + 1];\n\n    // SOS (Start of Scan)\n    if (value === 0xFF && next === 0xDA) {\n      break;\n    }\n\n    // SOI (Start of Image)\n    if (value === 0xFF && next === 0xD8) {\n      start += 2;\n    } else {\n      var offset = array[start + 2] * 256 + array[start + 3];\n      var end = start + offset + 2;\n      var segment = array.slice(start, end);\n      segments.push(segment);\n      start = end;\n    }\n  }\n  return segments.reduce(function (exifArray, current) {\n    if (current[0] === 0xFF && current[1] === 0xE1) {\n      return exifArray.concat(current);\n    }\n    return exifArray;\n  }, []);\n}\n\n/**\n * Insert Exif information into the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {Array} exifArray - The Exif information to insert.\n * @returns {ArrayBuffer} The transformed array buffer.\n */\nfunction insertExif(arrayBuffer, exifArray) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  if (array[2] !== 0xFF || array[3] !== 0xE0) {\n    return arrayBuffer;\n  }\n  var app0Length = array[4] * 256 + array[5];\n  var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));\n  return new Uint8Array(newArrayBuffer);\n}\n\nvar ArrayBuffer$1 = WINDOW.ArrayBuffer,\n  FileReader = WINDOW.FileReader;\nvar URL = WINDOW.URL || WINDOW.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\nvar AnotherCompressor = WINDOW.Compressor;\n\n/**\n * Creates a new image compressor.\n * @class\n */\nvar Compressor = /*#__PURE__*/function () {\n  /**\n   * The constructor of Compressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function Compressor(file, options) {\n    _classCallCheck(this, Compressor);\n    this.file = file;\n    this.exif = [];\n    this.image = new Image();\n    this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n    this.aborted = false;\n    this.result = null;\n    this.init();\n  }\n  _createClass(Compressor, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n      var file = this.file,\n        options = this.options;\n      if (!isBlob(file)) {\n        this.fail(new Error('The first argument must be a File or Blob object.'));\n        return;\n      }\n      var mimeType = file.type;\n      if (!isImageType(mimeType)) {\n        this.fail(new Error('The first argument must be an image File or Blob object.'));\n        return;\n      }\n      if (!URL || !FileReader) {\n        this.fail(new Error('The current browser does not support image compression.'));\n        return;\n      }\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n        options.retainExif = false;\n      }\n      var isJPEGImage = mimeType === 'image/jpeg';\n      var checkOrientation = isJPEGImage && options.checkOrientation;\n      var retainExif = isJPEGImage && options.retainExif;\n      if (URL && !checkOrientation && !retainExif) {\n        this.load({\n          url: URL.createObjectURL(file)\n        });\n      } else {\n        var reader = new FileReader();\n        this.reader = reader;\n        reader.onload = function (_ref) {\n          var target = _ref.target;\n          var result = target.result;\n          var data = {};\n          var orientation = 1;\n          if (checkOrientation) {\n            // Reset the orientation value to its default value 1\n            // as some iOS browsers will render image with its orientation\n            orientation = resetAndGetOrientation(result);\n            if (orientation > 1) {\n              _extends(data, parseOrientation(orientation));\n            }\n          }\n          if (retainExif) {\n            _this.exif = getExif(result);\n          }\n          if (checkOrientation || retainExif) {\n            if (!URL\n\n            // Generate a new URL with the default orientation value 1.\n            || orientation > 1) {\n              data.url = arrayBufferToDataURL(result, mimeType);\n            } else {\n              data.url = URL.createObjectURL(file);\n            }\n          } else {\n            data.url = result;\n          }\n          _this.load(data);\n        };\n        reader.onabort = function () {\n          _this.fail(new Error('Aborted to read the image with FileReader.'));\n        };\n        reader.onerror = function () {\n          _this.fail(new Error('Failed to read the image with FileReader.'));\n        };\n        reader.onloadend = function () {\n          _this.reader = null;\n        };\n        if (checkOrientation || retainExif) {\n          reader.readAsArrayBuffer(file);\n        } else {\n          reader.readAsDataURL(file);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(data) {\n      var _this2 = this;\n      var file = this.file,\n        image = this.image;\n      image.onload = function () {\n        _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n          naturalWidth: image.naturalWidth,\n          naturalHeight: image.naturalHeight\n        }));\n      };\n      image.onabort = function () {\n        _this2.fail(new Error('Aborted to load the image.'));\n      };\n      image.onerror = function () {\n        _this2.fail(new Error('Failed to load the image.'));\n      };\n\n      // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n      if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n        // Fix the `The operation is insecure` error (#57)\n        image.crossOrigin = 'anonymous';\n      }\n      image.alt = file.name;\n      image.src = data.url;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _this3 = this;\n      var naturalWidth = _ref2.naturalWidth,\n        naturalHeight = _ref2.naturalHeight,\n        _ref2$rotate = _ref2.rotate,\n        rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n        _ref2$scaleX = _ref2.scaleX,\n        scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n        _ref2$scaleY = _ref2.scaleY,\n        scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n      var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n      var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n      var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n      var minWidth = Math.max(options.minWidth, 0) || 0;\n      var minHeight = Math.max(options.minHeight, 0) || 0;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = options.width,\n        height = options.height;\n      if (is90DegreesRotated) {\n        var _ref3 = [maxHeight, maxWidth];\n        maxWidth = _ref3[0];\n        maxHeight = _ref3[1];\n        var _ref4 = [minHeight, minWidth];\n        minWidth = _ref4[0];\n        minHeight = _ref4[1];\n        var _ref5 = [height, width];\n        width = _ref5[0];\n        height = _ref5[1];\n      }\n      if (resizable) {\n        aspectRatio = width / height;\n      }\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: maxWidth,\n        height: maxHeight\n      }, 'contain');\n      maxWidth = _getAdjustedSizes.width;\n      maxHeight = _getAdjustedSizes.height;\n      var _getAdjustedSizes2 = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minWidth,\n        height: minHeight\n      }, 'cover');\n      minWidth = _getAdjustedSizes2.width;\n      minHeight = _getAdjustedSizes2.height;\n      if (resizable) {\n        var _getAdjustedSizes3 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        }, options.resize);\n        width = _getAdjustedSizes3.width;\n        height = _getAdjustedSizes3.height;\n      } else {\n        var _getAdjustedSizes4 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        });\n        var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n        width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n        var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n        height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n      }\n      width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n      height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n      var destX = -width / 2;\n      var destY = -height / 2;\n      var destWidth = width;\n      var destHeight = height;\n      var params = [];\n      if (resizable) {\n        var srcX = 0;\n        var srcY = 0;\n        var srcWidth = naturalWidth;\n        var srcHeight = naturalHeight;\n        var _getAdjustedSizes5 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: naturalWidth,\n          height: naturalHeight\n        }, {\n          contain: 'cover',\n          cover: 'contain'\n        }[options.resize]);\n        srcWidth = _getAdjustedSizes5.width;\n        srcHeight = _getAdjustedSizes5.height;\n        srcX = (naturalWidth - srcWidth) / 2;\n        srcY = (naturalHeight - srcHeight) / 2;\n        params.push(srcX, srcY, srcWidth, srcHeight);\n      }\n      params.push(destX, destY, destWidth, destHeight);\n      if (is90DegreesRotated) {\n        var _ref6 = [height, width];\n        width = _ref6[0];\n        height = _ref6[1];\n      }\n      canvas.width = width;\n      canvas.height = height;\n      if (!isImageType(options.mimeType)) {\n        options.mimeType = file.type;\n      }\n      var fillStyle = 'transparent';\n\n      // Converts PNG files over the `convertSize` to JPEGs.\n      if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n        options.mimeType = 'image/jpeg';\n      }\n      var isJPEGImage = options.mimeType === 'image/jpeg';\n      if (isJPEGImage) {\n        fillStyle = '#fff';\n      }\n\n      // Override the default fill color (#000, black)\n      context.fillStyle = fillStyle;\n      context.fillRect(0, 0, width, height);\n      if (options.beforeDraw) {\n        options.beforeDraw.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      context.save();\n      context.translate(width / 2, height / 2);\n      context.rotate(rotate * Math.PI / 180);\n      context.scale(scaleX, scaleY);\n      context.drawImage.apply(context, [image].concat(params));\n      context.restore();\n      if (options.drew) {\n        options.drew.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      var callback = function callback(blob) {\n        if (!_this3.aborted) {\n          var done = function done(result) {\n            return _this3.done({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          };\n          if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {\n            var next = function next(arrayBuffer) {\n              return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));\n            };\n            if (blob.arrayBuffer) {\n              blob.arrayBuffer().then(next).catch(function () {\n                _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));\n              });\n            } else {\n              var reader = new FileReader();\n              _this3.reader = reader;\n              reader.onload = function (_ref7) {\n                var target = _ref7.target;\n                next(target.result);\n              };\n              reader.onabort = function () {\n                _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));\n              };\n              reader.onerror = function () {\n                _this3.fail(new Error('Failed to read the compressed image with FileReader.'));\n              };\n              reader.onloadend = function () {\n                _this3.reader = null;\n              };\n              reader.readAsArrayBuffer(blob);\n            }\n          } else {\n            done(blob);\n          }\n        }\n      };\n      if (canvas.toBlob) {\n        canvas.toBlob(callback, options.mimeType, options.quality);\n      } else {\n        callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n      }\n    }\n  }, {\n    key: \"done\",\n    value: function done(_ref8) {\n      var naturalWidth = _ref8.naturalWidth,\n        naturalHeight = _ref8.naturalHeight,\n        result = _ref8.result;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      if (URL && image.src.indexOf('blob:') === 0) {\n        URL.revokeObjectURL(image.src);\n      }\n      if (result) {\n        // Returns original file if the result is greater than it and without size related options\n        if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n          result = file;\n        } else {\n          var date = new Date();\n          result.lastModified = date.getTime();\n          result.lastModifiedDate = date;\n          result.name = file.name;\n\n          // Convert the extension to match its type\n          if (result.name && result.type !== file.type) {\n            result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n          }\n        }\n      } else {\n        // Returns original file if the result is null in some cases.\n        result = file;\n      }\n      this.result = result;\n      if (options.success) {\n        options.success.call(this, result);\n      }\n    }\n  }, {\n    key: \"fail\",\n    value: function fail(err) {\n      var options = this.options;\n      if (options.error) {\n        options.error.call(this, err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n        if (this.reader) {\n          this.reader.abort();\n        } else if (!this.image.complete) {\n          this.image.onload = null;\n          this.image.onabort();\n        } else {\n          this.fail(new Error('The compression process has been aborted.'));\n        }\n      }\n    }\n\n    /**\n     * Get the no conflict compressor class.\n     * @returns {Compressor} The compressor class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Compressor = AnotherCompressor;\n      return Compressor;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      _extends(DEFAULTS, options);\n    }\n  }]);\n  return Compressor;\n}();\n\nexport { Compressor as default };\n"],
  "mappings": "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",
  "names": ["window", "isBlob", "isPositiveNumber", "Compressor", "callback", "done", "next"]
}
